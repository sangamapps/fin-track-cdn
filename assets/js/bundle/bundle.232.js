"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[232],{6232:(t,n,e)=>{e.r(n),e.d(n,{default:()=>v});var a=e(3029),s=e(2901),c=e(4441),r=e(3954),i=e(5501),o=e(4467),u=e(6540),l=e(8736),f=e(8573),d=e(3256),h=e(2543);function p(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!t})()}var v=function(t){function n(){var t,e,s,i;(0,a.A)(this,n);for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return e=this,s=n,i=[].concat(f),s=(0,r.A)(s),t=(0,c.A)(e,p()?Reflect.construct(s,i||[],(0,r.A)(e).constructor):s.apply(e,i)),(0,o.A)(t,"state",{transactions:[],getTransactionsLoadingStatus:!0,accounts:[]}),(0,o.A)(t,"updateTransaction",(function(n,e){l.A.update(n).then((function(a){if(h.isEmpty(e))t.state.transactions.push(n);else{var s=h.find(t.state.transactions,{_id:n._id});h.assign(s,n)}t.forceUpdate()}))})),(0,o.A)(t,"deleteTransaction",(function(n,e){l.A.delete(n._id).then((function(){t.state.transactions.splice(e,1),t.forceUpdate()}))})),t}return(0,i.A)(n,t),(0,s.A)(n,[{key:"showTransactions",value:function(){var t=this.state.transactions;return 0==t.length?this.state.getTransactionsLoadingStatus?u.createElement("div",{className:"mt-4 d-flex justify-content-center"},u.createElement("div",{className:"spinner-border text-primary text-center",role:"status"},u.createElement("span",{className:"visually-hidden"},"Loading..."))):u.createElement("div",{className:"alert alert-info",role:"alert"},"No transactions found"):u.createElement(d.A,{transactions:t,accountsMap:h.keyBy(this.state.accounts,"_id"),updateTransaction:this.updateTransaction,deleteTransaction:this.deleteTransaction})}},{key:"render",value:function(){return u.createElement("div",{className:""},u.createElement("h3",null,"Transactions"),this.showTransactions())}},{key:"getTransactions",value:function(){var t=this;l.A.getAll().then((function(n){t.setState({getTransactionsLoadingStatus:!1,transactions:n.transactions})}))}},{key:"getAccounts",value:function(){var t=this;f.A.getAll().then((function(n){return t.setState({accounts:n.accounts})}))}},{key:"componentDidMount",value:function(){this.getAccounts(),this.getTransactions()}}])}(u.Component)}}]);