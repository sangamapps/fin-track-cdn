"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[627],{1555:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(5093),r=a(2543);const c={formatDate:function(e,t){var a=n(t);return"daily"===e?a.format("YYYY-MM-DD"):"weekly"===e?a.endOf("week").format("YYYY-MM-DD"):"monthly"===e?a.format("YYYY-MM"):"yearly"===e?a.format("YYYY"):"Overall"},getCummulativeBalance:function(e,t){return r.sumBy(r.uniq(r.map(e,(function(e){return e.accountId}))),(function(e){return t[e].openingBalance}))},getTransactionAmountRange:function(){return[{label:"< ₹50",min:0,max:50},{label:"₹51 – ₹100",min:51,max:100},{label:"₹101 – ₹500",min:101,max:500},{label:"₹501 – ₹1,000",min:501,max:1e3},{label:"₹1,001 – ₹5,000",min:1001,max:5e3},{label:"₹5,001 – ₹10,000",min:5001,max:1e4},{label:"₹10,001 - ₹50,000",min:10001,max:5e4},{label:"> ₹50,001",min:50001,max:1/0}]}}},4731:(e,t,a)=>{a.d(t,{yP:()=>m});var n=a(6540),r=a(2262);const c="label";function u(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function l(e,t){e.labels=t}function s(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const n=[];e.datasets=t.map((t=>{const r=e.datasets.find((e=>e[a]===t[a]));return r&&t.data&&!n.includes(r)?(n.push(r),Object.assign(r,t),r):{...t}}))}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;const a={labels:[],datasets:[]};return l(a,e.labels),s(a,e.datasets,t),a}function i(e,t){const{height:a=150,width:c=300,redraw:i=!1,datasetIdKey:f,type:d,data:m,options:b,plugins:p=[],fallbackContent:g,updateMode:h,...v}=e,y=(0,n.useRef)(null),Y=(0,n.useRef)(null),E=()=>{y.current&&(Y.current=new r.t1(y.current,{type:d,data:o(m,f),options:b&&{...b},plugins:p}),u(t,Y.current))},k=()=>{u(t,null),Y.current&&(Y.current.destroy(),Y.current=null)};return(0,n.useEffect)((()=>{!i&&Y.current&&b&&function(e,t){const a=e.options;a&&t&&Object.assign(a,t)}(Y.current,b)}),[i,b]),(0,n.useEffect)((()=>{!i&&Y.current&&l(Y.current.config.data,m.labels)}),[i,m.labels]),(0,n.useEffect)((()=>{!i&&Y.current&&m.datasets&&s(Y.current.config.data,m.datasets,f)}),[i,m.datasets]),(0,n.useEffect)((()=>{Y.current&&(i?(k(),setTimeout(E)):Y.current.update(h))}),[i,b,m.labels,m.datasets,h]),(0,n.useEffect)((()=>{Y.current&&(k(),setTimeout(E))}),[d]),(0,n.useEffect)((()=>(E(),()=>k())),[]),n.createElement("canvas",{ref:y,role:"img",height:a,width:c,...v},g)}const f=(0,n.forwardRef)(i);function d(e,t){return r.t1.register(t),(0,n.forwardRef)(((t,a)=>n.createElement(f,{...t,ref:a,type:e})))}const m=d("bar",r.A6)},6627:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(6540),r=a(1225),c=a(4731),u=a(1555);const l=function(e){var t=e.filteredTransactions,a=e.timeFilter,l=(0,r.d4)((function(e){return e.user.accountsMap})),s=u.A.getCummulativeBalance(t,l),o={};t.forEach((function(e){var t=u.A.formatDate(a,e.date);o[t]||(o[t]=s),"CREDIT"===e.type?s+=e.amount:s+=-e.amount,o[t]=s}));var i=Object.keys(o),f=[{label:"Balance (INR)",data:i.map((function(e){return o[e]})),borderColor:"#007bff",backgroundColor:"rgb(0, 123, 255)",fill:!0}];return n.createElement("div",{className:"card shadow-sm p-3"},n.createElement("h5",{className:"card-title"},"Balance Trends Over Time"),n.createElement("div",{className:"chart-container"},n.createElement(c.yP,{data:{labels:i,datasets:f}})))}}}]);