"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[232],{6232:(t,n,e)=>{e.r(n),e.d(n,{default:()=>A});var a=e(3029),s=e(2901),c=e(4441),o=e(3954),i=e(5501),r=e(4467),u=e(6540),l=e(378),f=e(8736),d=e(8573),h=e(3256),p=e(2543);function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}var A=function(t){function n(){var t,e,s,i;(0,a.A)(this,n);for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return e=this,s=n,i=[].concat(d),s=(0,o.A)(s),t=(0,c.A)(e,v()?Reflect.construct(s,i||[],(0,o.A)(e).constructor):s.apply(e,i)),(0,r.A)(t,"state",{transactions:[],getTransactionsLoadingStatus:!0,accounts:[]}),(0,r.A)(t,"updateTransaction",(function(n,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};f.A.upsert(n).then((function(s){l.oR.info("Transaction saved"),p.isNumber(e)?p.assign(t.state.transactions[e],s):t.state.transactions.push(n),t.forceUpdate(),a()}))})),(0,r.A)(t,"deleteTransaction",(function(n,e){f.A.delete(n._id).then((function(){l.oR.info("Transaction deleted"),t.state.transactions.splice(e,1),t.forceUpdate()}))})),t}return(0,i.A)(n,t),(0,s.A)(n,[{key:"showTransactions",value:function(){var t=this.state.transactions;return 0==t.length&&this.state.getTransactionsLoadingStatus?u.createElement("div",{className:"mt-4 d-flex justify-content-center"},u.createElement("div",{className:"spinner-border text-primary text-center",role:"status"},u.createElement("span",{className:"visually-hidden"},"Loading..."))):u.createElement(h.A,{transactions:t,accountsMap:p.keyBy(this.state.accounts,"_id"),updateTransaction:this.updateTransaction,deleteTransaction:this.deleteTransaction})}},{key:"render",value:function(){return u.createElement("div",{className:""},this.showTransactions())}},{key:"getTransactions",value:function(){var t=this;f.A.getAll().then((function(n){t.setState({getTransactionsLoadingStatus:!1,transactions:n.transactions})}))}},{key:"getAccounts",value:function(){var t=this;d.A.getAll().then((function(n){return t.setState({accounts:n.accounts})}))}},{key:"componentDidMount",value:function(){this.getAccounts(),this.getTransactions()}}])}(u.Component)}}]);