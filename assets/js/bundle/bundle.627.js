"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[627],{1555:(t,e,a)=>{a.d(e,{A:()=>c});var n=a(5093),r=a(2543);const c={formatDate:function(t,e){var a=n(e);return"daily"===t?a.format("YYYY-MM-DD"):"weekly"===t?a.endOf("week").format("YYYY-MM-DD"):"monthly"===t?a.format("YYYY-MM"):"yearly"===t?a.format("YYYY"):"Overall"},getCummulativeBalance:function(t,e){return r.sumBy(r.uniq(r.map(t,(function(t){return t.accountId}))),(function(t){return parseFloat(e[t].amount)}))}}},4731:(t,e,a)=>{a.d(e,{yP:()=>m});var n=a(6540),r=a(2262);const c="label";function u(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function s(t,e){t.labels=e}function o(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const n=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[a]===e[a]));return r&&e.data&&!n.includes(r)?(n.push(r),Object.assign(r,e),r):{...e}}))}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;const a={labels:[],datasets:[]};return s(a,t.labels),o(a,t.datasets,e),a}function f(t,e){const{height:a=150,width:c=300,redraw:f=!1,datasetIdKey:i,type:d,data:m,options:p,plugins:b=[],fallbackContent:h,updateMode:g,...v}=t,y=(0,n.useRef)(null),Y=(0,n.useRef)(null),E=()=>{y.current&&(Y.current=new r.t1(y.current,{type:d,data:l(m,i),options:p&&{...p},plugins:b}),u(e,Y.current))},k=()=>{u(e,null),Y.current&&(Y.current.destroy(),Y.current=null)};return(0,n.useEffect)((()=>{!f&&Y.current&&p&&function(t,e){const a=t.options;a&&e&&Object.assign(a,e)}(Y.current,p)}),[f,p]),(0,n.useEffect)((()=>{!f&&Y.current&&s(Y.current.config.data,m.labels)}),[f,m.labels]),(0,n.useEffect)((()=>{!f&&Y.current&&m.datasets&&o(Y.current.config.data,m.datasets,i)}),[f,m.datasets]),(0,n.useEffect)((()=>{Y.current&&(f?(k(),setTimeout(E)):Y.current.update(g))}),[f,p,m.labels,m.datasets,g]),(0,n.useEffect)((()=>{Y.current&&(k(),setTimeout(E))}),[d]),(0,n.useEffect)((()=>(E(),()=>k())),[]),n.createElement("canvas",{ref:y,role:"img",height:a,width:c,...v},h)}const i=(0,n.forwardRef)(f);function d(t,e){return r.t1.register(e),(0,n.forwardRef)(((e,a)=>n.createElement(i,{...e,ref:a,type:t})))}const m=d("bar",r.A6)},6627:(t,e,a)=>{a.r(e),a.d(e,{default:()=>s});var n=a(6540),r=a(1225),c=a(4731),u=a(1555);const s=function(t){var e=t.filteredTransactions,a=t.timeFilter,s=(0,r.d4)((function(t){return t.user.accountsMap})),o=u.A.getCummulativeBalance(e,s),l={};e.forEach((function(t){var e=u.A.formatDate(a,t.date);l[e]||(l[e]=o),"CREDIT"===t.transactionType?o+=t.amount:o+=-t.amount,l[e]=o}));var f=Object.keys(l),i=[{label:"Balance (INR)",data:f.map((function(t){return l[t]})),borderColor:"#007bff",backgroundColor:"rgba(0, 123, 255, 0.2)",fill:!0}];return n.createElement("div",{className:"card shadow-sm p-3"},n.createElement("h5",{className:"card-title"},"Balance Trends Over Time"),n.createElement("div",{className:"chart-container"},n.createElement(c.yP,{data:{labels:f,datasets:i}})))}}}]);