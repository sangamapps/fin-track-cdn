"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[446],{4446:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var a=n(6540),r=n(4731),u=n(1225),s=n(2543);const c=function(t){var e=t.filteredTransactions,n=(0,u.d4)((function(t){return t.user.rules})).map((function(t){var n=t._id,a=t.tag,r=e.filter((function(t){return 1==t.appliedRules[n]}));return{label:a,sum:s.sumBy(r,"amount")}}));n.push({label:"Untagged",sum:s.sumBy(e.filter((function(t){return 0==t.tags.length})),"amount")});var c={labels:(n=n.filter((function(t){return t.sum>0}))).map((function(t){return t.label})),datasets:[{label:"Total Amount (INR)",data:n.map((function(t){return t.sum})),backgroundColor:"rgba(163, 40, 167, 0.63)"}]};return a.createElement("div",{className:"card shadow-sm p-3"},a.createElement("h5",{className:"card-title"},"Total Amount by Tags"),a.createElement("div",{className:"chart-container"},a.createElement(r.yP,{data:c})))}},4731:(t,e,n)=>{n.d(e,{yP:()=>m});var a=n(6540),r=n(2262);const u="label";function s(t,e){"function"==typeof t?t(e):t&&(t.current=e)}function c(t,e){t.labels=e}function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;const a=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!a.includes(r)?(a.push(r),Object.assign(r,e),r):{...e}}))}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;const n={labels:[],datasets:[]};return c(n,t.labels),l(n,t.datasets,e),n}function i(t,e){const{height:n=150,width:u=300,redraw:i=!1,datasetIdKey:f,type:d,data:m,options:p,plugins:b=[],fallbackContent:g,updateMode:h,...E}=t,y=(0,a.useRef)(null),v=(0,a.useRef)(null),w=()=>{y.current&&(v.current=new r.t1(y.current,{type:d,data:o(m,f),options:p&&{...p},plugins:b}),s(e,v.current))},k=()=>{s(e,null),v.current&&(v.current.destroy(),v.current=null)};return(0,a.useEffect)((()=>{!i&&v.current&&p&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(v.current,p)}),[i,p]),(0,a.useEffect)((()=>{!i&&v.current&&c(v.current.config.data,m.labels)}),[i,m.labels]),(0,a.useEffect)((()=>{!i&&v.current&&m.datasets&&l(v.current.config.data,m.datasets,f)}),[i,m.datasets]),(0,a.useEffect)((()=>{v.current&&(i?(k(),setTimeout(w)):v.current.update(h))}),[i,p,m.labels,m.datasets,h]),(0,a.useEffect)((()=>{v.current&&(k(),setTimeout(w))}),[d]),(0,a.useEffect)((()=>(w(),()=>k())),[]),a.createElement("canvas",{ref:y,role:"img",height:n,width:u,...E},g)}const f=(0,a.forwardRef)(i);function d(t,e){return r.t1.register(e),(0,a.forwardRef)(((e,n)=>a.createElement(f,{...e,ref:n,type:t})))}const m=d("bar",r.A6)}}]);