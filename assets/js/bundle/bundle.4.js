"use strict";(self.webpackChunkfin_track_ui=self.webpackChunkfin_track_ui||[]).push([[4],{4:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(3029),r=n(2901),l=n(4441),o=n(3954),s=n(5501),c=n(4467),u=n(6540),i=n(756),d=n(7886),m=n(2543);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var h=function(e){function t(){var e,n,r,s;(0,a.A)(this,t);for(var u=arguments.length,i=new Array(u),h=0;h<u;h++)i[h]=arguments[h];return n=this,r=t,s=[].concat(i),r=(0,o.A)(r),e=(0,l.A)(n,f()?Reflect.construct(r,s||[],(0,o.A)(n).constructor):r.apply(n,s)),(0,c.A)(e,"state",{getRulesLoadingStatus:!0,rules:[],selectedRule:null,showModal:!1}),(0,c.A)(e,"toggleModal",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n){e.setState({showModal:!e.state.showModal,selectedRule:t},n)}))})),(0,c.A)(e,"handleSave",(function(t){var n=m.find(e.state.rules,{_id:t._id});n?m.assign(n,t):e.state.rules.push(t),e.toggleModal()})),(0,c.A)(e,"handleDelete",(function(t){d.A.delete(t).then(e.getRules)})),(0,c.A)(e,"getRules",(function(){d.A.getAll().then((function(t){e.setState({getRulesLoadingStatus:!1,rules:t.rules})}))})),e}return(0,s.A)(t,e),(0,r.A)(t,[{key:"getRulesContainer",value:function(){var e=this,t=this.state.rules;return 0===t.length?this.state.getRulesLoadingStatus?u.createElement("div",{className:"spinner-border text-primary",role:"status"},u.createElement("span",{className:"visually-hidden"},"Loading...")):u.createElement("div",{className:"alert alert-info",role:"alert"},"No rules found"):u.createElement("div",{className:"row"},t.map((function(t,n){return u.createElement("div",{key:n,className:"col-md-4 mb-3"},u.createElement("div",{className:"card shadow-sm"},u.createElement("div",{className:"card-body"},u.createElement("h5",{className:"card-title"},t.name),u.createElement("p",{className:"card-text"},u.createElement("strong",null,"Contains:")," ",t.contains),u.createElement("span",{className:"badge bg-primary"},t.tag),u.createElement("div",{className:"mt-3 d-flex justify-content-between"},u.createElement("button",{className:"btn btn-warning btn-sm",onClick:function(){return e.toggleModal(t)}},u.createElement("i",{className:"bi bi-pencil"})," Edit"),u.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return e.handleDelete(t._id)}},u.createElement("i",{className:"bi bi-trash"})," Delete")))))})))}},{key:"getCrudRuleModal",value:function(){var e=this;return u.createElement(i.A,{show:this.state.showModal,rule:this.state.selectedRule,onSave:this.handleSave,onClose:function(){return e.toggleModal()}})}},{key:"getAddButton",value:function(){var e=this;return u.createElement("button",{className:"btn btn-primary rounded-circle position-fixed bottom-0 end-0 m-4",onClick:function(){return e.toggleModal()},style:{width:"50px",height:"50px"}},"+")}},{key:"render",value:function(){var e=this.state;return e.rules,e.showModal,e.selectedRule,u.createElement("div",{className:"container mt-3"},u.createElement("h1",null,"Rules"),this.getRulesContainer(),this.getCrudRuleModal(),this.getAddButton())}},{key:"componentDidMount",value:function(){this.getRules()}}])}(u.Component)},448:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(3029),r=n(2901),l=n(4441),o=n(3954),s=n(5501),c=n(6540),u=n(6634);function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}var d=function(e){function t(){return(0,a.A)(this,t),e=this,n=t,r=arguments,n=(0,o.A)(n),(0,l.A)(e,i()?Reflect.construct(n,r||[],(0,o.A)(e).constructor):n.apply(e,r));var e,n,r}return(0,s.A)(t,e),(0,r.A)(t,[{key:"getModalTitle",value:function(){return c.createElement("h5",{className:"modal-title"},this.props.title)}},{key:"getCloseButton",value:function(){return c.createElement("button",{type:"button",className:"btn-close",onClick:this.props.onClose})}},{key:"getModalHeader",value:function(){return c.createElement("div",{className:"modal-header"},this.getModalTitle(),this.getCloseButton())}},{key:"getModalBody",value:function(){var e=this.props.body;return e&&c.createElement("div",{className:"modal-body"},e)}},{key:"getCancelButton",value:function(){return c.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.props.onClose},"Cancel")}},{key:"getSubmitButton",value:function(){return c.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.props.onSubmitClick},"Submit")}},{key:"getModalFooter",value:function(){return c.createElement("div",{className:"modal-footer"},this.getCancelButton(),this.getSubmitButton())}},{key:"render",value:function(){return c.createElement(u.A,{in:this.props.show,timeout:500,classNames:"modal-container",unmountOnExit:!0},c.createElement("div",null,c.createElement("div",{className:"modal-backdrop fade show"}),c.createElement("div",{className:"modal fade show d-block"},c.createElement("div",{className:"modal-dialog"},c.createElement("div",{className:"modal-content"},this.getModalHeader(),this.getModalBody(),this.getModalFooter())))))}}])}(c.Component)},756:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(3029),r=n(2901),l=n(4441),o=n(3954),s=n(5501),c=n(4467),u=n(6540),i=n(448),d=n(7886);function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function f(e){var t,n,a;return{name:(null===(t=e.rule)||void 0===t?void 0:t.name)||"",contains:(null===(n=e.rule)||void 0===n?void 0:n.contains)||"",tag:(null===(a=e.rule)||void 0===a?void 0:a.tag)||""}}var h=function(e){function t(e){var n,r,s,i;return(0,a.A)(this,t),r=this,s=t,i=[e],s=(0,o.A)(s),n=(0,l.A)(r,m()?Reflect.construct(s,i||[],(0,o.A)(r).constructor):s.apply(r,i)),(0,c.A)(n,"handleChange",(function(e){n.setState((0,c.A)({},e.target.name,e.target.value))})),(0,c.A)(n,"handleSubmit",(function(e){var t;e.preventDefault();var a=n.state,r=a.name,l=a.contains,o=a.tag;d.A.upsert({_id:(null===(t=n.props.rule)||void 0===t?void 0:t._id)||null,name:r,contains:l,tag:o||r}).then((function(e){return n.props.onSave(e)}))})),(0,c.A)(n,"onSubmitClick",(function(){n.formRef.current&&n.formRef.current.requestSubmit()})),n.state=f(e),n.formRef=u.createRef(),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"componentDidUpdate",value:function(e){e.rule!==this.props.rule&&this.setState(f(this.props))}},{key:"getModalTitle",value:function(){var e;return null!==(e=this.props.rule)&&void 0!==e&&e._id?"Edit Rule":"Add Rule"}},{key:"getModalBody",value:function(){var e=this.state,t=e.name,n=e.contains,a=e.tag;return u.createElement("form",{ref:this.formRef,onSubmit:this.handleSubmit},u.createElement("div",{className:"mb-2"},u.createElement("label",{className:"form-label"},"Name"),u.createElement("input",{type:"text",className:"form-control",name:"name",value:t,onChange:this.handleChange,placeholder:"Rule Name",required:!0})),u.createElement("div",{className:"mb-2"},u.createElement("label",{className:"form-label"},"Contains"),u.createElement("textarea",{className:"form-control",name:"contains",value:n,onChange:this.handleChange,placeholder:"Keywords (eg: Keyword1, Keyword2)",required:!0})),u.createElement("div",{className:"mb-2"},u.createElement("label",{className:"form-label"},"Tag"),u.createElement("input",{type:"text",className:"form-control",name:"tag",value:a||t,onChange:this.handleChange,placeholder:"Tag",required:!0})))}},{key:"render",value:function(){return u.createElement(i.A,{show:this.props.show,title:this.getModalTitle(),body:this.getModalBody(),onClose:this.props.onClose,onSubmitClick:this.onSubmitClick})}}])}(u.Component)},1967:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(4467),r=n(467),l=n(4756),o=n.n(l),s=n(1083);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){return d.apply(this,arguments)}function d(){return d=(0,r.A)(o().mark((function e(t,n){var a,r,l,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>3?c[3]:void 0,r=u({url:t,method:n},c.length>2&&void 0!==c[2]?c[2]:{}),a&&(r.headers=a),e.next=6,(0,s.A)(r);case 6:return l=e.sent,e.abrupt("return",l.data);case 8:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}const m={get:function(e,t){return i(e,"GET",{params:t})},post:function(e,t,n){return i(e,"POST",{data:t},n)},delete:function(e){return i(e,"DELETE")}}},7886:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(1967);const r={getAll:function(){return a.A.get("/api/v1/rules")},upsert:function(e){return a.A.post("/api/v1/rule",e)},delete:function(e){return a.A.delete("/api/v1/rule/".concat(e))}}}}]);